<template>
  <div class="user-wrapper">
    <div class="name-stars">
      <span class="u-name">å¨Ÿ*å¨Ÿ</span>
      <span class="iconfont stars">&#xe642;&#xe642;&#xe642;&#xe642;&#xe642;</span>
    </div>
    <div class="date">2018-09-07</div>
    <img class="avatar" src="http://img1.qunarzz.com/ucenter/headshot/201308/12/734e34abd3ea98c57c43c4d7.jpg"/>
    <div class="words" :class="{intercept: isActive }" ref="words">
      æœ€ä¸»è¦æ˜¯æ–¹ä¾¿ï¼Œå¦‚æœæƒ³ä¸€å¤©æ¥å›çš„è¯çœŸçš„æ˜¯å¾ˆå¥½çš„é€‰æ‹©ï¼çº¯ç©ï¼Œå°½æƒ…çš„ç©ï¼Œå°½æƒ…çš„æ‹ï¼ä¹Œé•‡å·²ç»å•†ä¸šåŒ–äº†ï¼Œæ²¡æœ‰æˆ‘æœŸå¾…çš„é™...æ‰€ä»¥æˆ‘è§‰å¾—ä¸€å¤©ä¹Ÿå¤Ÿäº†â€¦ç°åœ¨å›½å†…å“ªéƒ½æ˜¯äºº~~è¿™ä¸æ˜¯ä¹Œé•‡ä¸€ä¸ªåœ°æ–¹çš„ç¼ºç‚¹ï¼Œåªè¦æ˜¯æ™¯ç‚¹éƒ½è¿™æ ·ã€‚æ­¤å›¢å”¯ä¸€ä¸å¥½çš„æ˜¯ï¼Œæ—©ä¸Šé›†åˆæ—¶æˆ‘å¤šç­‰äº†å¿«ä¸€ä¸ªå°æ—¶ï¼Œåç‚¹å‡ºå‘ï¼Œå¯¼æ¸¸ä»¬é€šçŸ¥çš„éƒ½æ˜¯9ç‚¹ï¼Œå‘œå‘œ...æˆ‘åªæ˜¯æƒ³å¤šç¡ä¼šï¼Œå“ˆå“ˆğŸ˜„
    </div>
    <div v-if="isControl">
        <list-more class="listmore-custom"
      v-show="listmodeShow"
      @click.native="handleListMoreClick"
      >&#xe62c;
      </list-more>
      <list-more class="listmore-custom"
        v-show="!listmodeShow"
        @click.native="handleListMoreClick"
      >&#xe62e;
      </list-more>
    </div>
    <div class="imgs-container">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
      <img  class="img" src="https://imgs.qunarzz.com/piao/fusion/1809/f8/3740cfbf50896502.jpg_240x240_7d7b0d6d.jpg" alt="">
    </div>
  </div>
</template>

<script>
import ListMore from 'common/ListMore'
export default {
  name: 'UserComm',
  components: {
    ListMore
  },
  data () {
    return {
      listmodeShow: false,
      isActive: false,
      isControl: false
    }
  },
  methods: {
    handleListMoreClick () {
      this.isActive = !this.isActive
      this.listmodeShow = !this.listmodeShow
    }
  },
  mounted () {
    // var gContent = ''
    // var bContent = ''
    // for (let i = 0; i < this.user.stars; i++) {
    //   gContent += '&#xe642;'
    // }
    // for (let i = 0; i < 5 - this.user.stars; i++) {
    //   bContent += '&#xe642;'
    // }
    // // é¡µé¢å…ƒç´ æŒ‚è½½æ—¶åˆå§‹åŒ–æ“ä½œ
    // this.$refs.good.innerHTML = gContent
    // this.$refs.bad.innerHTML = bContent
    this.isControl = this.$refs.words.offsetHeight > 105
    this.isActive = this.isControl
  }
}
</script>

<style lang="stylus" scoped>
  @import '~styles/minx.styl'
  .listmore-custom
    line-height: .5rem !important
  .intercept
    overflow: hidden
    max-height: 2.1rem
  .user-wrapper
    position: relative
    padding: .3rem
    .name-stars
      margin-top: .15rem
      padding-left: 1rem
      color: #9e9e9e
      font-size: .2rem !important
      .stars
        margin-left: .2rem
        color: #ffb436
        font-size: .2rem
    .date
      margin-top: .05rem
      padding-left: 1rem
      color: #9e9e9e
      font-size: .2rem
    .avatar
      position: absolute
      top: .3rem
      left: .3rem
      height: .8rem
      width: .8rem
      border-radius: .4rem
    .words
      padding-top: .3rem
      comment()
    .imgs-container
      white-space: nowrap
      word-break: keep-all
      max-height: 2.2rem
      overflow-x: auto
      .img
        display: inline-block
        width: 1.4rem
        height: 1.4rem
        margin-right: .05rem
</style>
